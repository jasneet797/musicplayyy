<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promises in Javascript</title>
</head>
<body>
    <script>
        let ans=new Promise((resolve,reject)=>{
            let success=false;
            if(success){
                return resolve("it is successful");
            }
            else{
                return reject("it is not succesful");
            }
        });
        ans.then((a)=>{
            console.log("function resolved",a); 
        })
        ans.catch((a)=>{
             console.log("function rejected",a);
        
        });
        let res=new Promise((resolve,reject)=>{
            let random=Math.floor(Math.random()*10);
            console.log(random);
            if(random>5){
                resolve("It is greater than 5")
            }
            else{
                reject("It is less than 5");
            }
        });
        res.then((a)=>{
            console.log("Greater",a)
        });
        res.catch((a)=>{
             console.log("Less",a);
        });
        //Promise chaining
        //wake up
        //Eat
        //work
        //Sleep
        var p1=new Promise((resolve,reject)=>{
            if(true){
                return resolve("Wake up");
            }
        })
        let p2=p1.then(x=>{
            console.log(x);
            return new Promise((resolve,reject)=>{
                return resolve("Eat")
            })
        })
        let p3=p2.then(x=>{
            console.log(x);
            return new Promise((resolve,reject)=>{
                return resolve("Work");
            })
        })
        let p4=p3.then(x=>{
            console.log(x);
            return new Promise((resolve,reject)=>{
                return resolve("sleep");
            })
        })
        p4.then((x)=>{
            console.log(x);
        });
        let y=Promise.all([p1,p2,p3])
        .then(()=>{console.log("All promise Resolved using promise.all")})
        Promise.allSettled([p1,p2,p3]).then(()=>{
            console.log("Works even if any promise fails");
        });
        let p=Promise.resolve("Hello").then(console.log);
        console.log(p);
        Promise.reject("World").then(console.log);
    </script>
</body>
</html>